The plugin can be configured through a dedicated preference page that can be accessed using Archi's **preferences** menu option.

This preference page has got two tabs:
* Behaviour
* Logger

# Behaviour
The Behaviour pages allows to configure the databases and options.
## Version
The plugin shows its version.

The **Check for update** button connects to to GitHub to verify available versions, and automatically update itself if a new version is available.

This check can be automated when Archi starts using the **Automatically check for update at startup** option.

When behind a corporate proxy, the following lines must be added to the **archi.ini** file:
>-Dhttp.proxyHost=_\<proxy name or IP address\>_<br>
>-Dhttp.proxyPort=_\<proxy port\>_<br>
>-Dhttp.proxyUser=_\<username if credentials are required\>_<br>
>-Dhttp.proxyPassword=_\<password if credentials are required\>_<br>
>-Dhttps.proxyHost=_\<proxy name or IP address\>_<br>
>-Dhttps.proxyPort=_\<proxy port\>_<br>
>-Dhttps.proxyUser=_\<username if credentials are required\>_<br>
>-Dhttps.proxyPassword=_\<password if credentials are required\>_<br>
>-Djdk.http.auth.tunneling.disabledSchemes=<br>
>-Djdk.http.auth.proxying.disabledSchemes=

## Databases
You may configure one or several databases that the plugin will be able to connect to.
![database plugin - preference page - behaviour](https://user-images.githubusercontent.com/9281982/39574022-e94e44f2-4ed5-11e8-9fa8-921560e3fda8.png)

You may enter your database connection information (the fields are shown when relevant, else, they are hidden):
* _**Name**_: this is a label you may give to your connection
* _**Driver**_: a dropdown list allows you to select the driver that will be used to connect to the database. So far, the following are supported : ms-sql, mysql, neo4j, oracle, postGresql and sqlite).
* _**File**_: (specific to SQLite databases) file name containing the database
* _**Server**_: the IP address or DNS name of the server which hosts your database.
* _**Port**_: the TCP port your database listens to
* _**Database**_: the database name to connect to
* _**Schema**_: the name of the schema containing the tables
* _**Username**_: the username used to connect to the database
* _**Password**_: the users's password
* _**Export type**_: you may choose if the database must contain the whole model (including views and images) or the elements and relationships only
* _**Export mode**_": you may choose between the Collaborative mode and the Standalone mode (more information on the [Exporting a model page](https://github.com/archi-contribs/database-plugin/wiki/4.-Exporting-a-model))
* _**Export view Images**_: you may choose if you wish to store screenshots of your views in the database (png format).
* _**Export graph mode**_: (specific to Neo4J databases) In native mode, Archi relationships are exported as Neo4J relationships which does not allow relationships on relationships. In extended mode, Archi relationships are exported as nodes which make requests more complex but does allow relationships on relationhips.
* _**Empty database**_: (specific to Neo4J databases) allows to empty the database before exporting the model or to keep the existing graphs

The databases can be sorted in the table, the first database becoming the default database.

## Miscelanous
The following options allows to adapt the plugin's behaviour to your need:
### Automatically start to export to default database
When checked, this options tells the plugin to automatically start to export the model when the export window is opened, without waiting for the user to click on the "export" button.
### Automatically close import and export window on success
When checked, this option tells the plugin to automatically close the import/export window if the import/export is successful without waiting for the user to click on the "close" button.
### Remove model's dirty flag after successful export
Archi manages a dirty flag on every models that indicates if the model has been modified and needs to be saves. When checked, this option tells the plugin to clear this dirty flag after a successful export.
### Compare model to the database before export
When checked, this option tells the plugin to compare the model to the database and print the comparison result on the export window. This information might be useful to know what the plugin will do, but might be suite time consuming on huge models.
### Keep partially imported model in case of error
By default, when an error occurs during the import process, the partially imported model is discarded as it contains only a subset of its content. When checked, this option tells the plugin to keep the partially imported model.

Please note that, as this model is not complete, it should not be exported back to the database.
### Show debugging information in the context menu
When checked, some debug information will be shown on the context menu that is shown when the user right-clicks on Archi components (the plugin shows the component ID, versions and checksums).
### Default component import type
This options allows to specify the default behaviour of the import individual component process:
* **shared**: the import process keep the components IDs, therefore all the modifications done to these components will be seen by the other models that include them
* **copy**: the import process will duplicate the components IDs, therefore all the modifications done to these components will not be seen by other models.

# Logger
